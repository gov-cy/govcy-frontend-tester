<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [DSFTesting][1]
    *   [startTest][2]
        *   [Parameters][3]
    *   [endTest][4]
    *   [ConsoleEcho][5]
        *   [Parameters][6]
    *   [RepeatStr][7]
        *   [Parameters][8]
    *   [addToReportJSON][9]
        *   [Parameters][10]
    *   [generateReport][11]
    *   [DSFStandardPageTest][12]
        *   [Parameters][13]
    *   [validateUrl][14]
        *   [Parameters][15]
    *   [doScreenshot][16]
        *   [Parameters][17]
    *   [doLighthouseA11YScore][18]
        *   [Parameters][19]
    *   [doLighthouseFlow][20]
        *   [Parameters][21]
    *   [doLighthouseNavStart][22]
        *   [Parameters][23]
    *   [doLighthouseNavEnd][24]
    *   [reportLighthouseFlow][25]
        *   [Parameters][26]
    *   [doPa11y][27]
        *   [Parameters][28]
    *   [getHeadSection][29]
        *   [Parameters][30]
    *   [getComputedStyle][31]
        *   [Parameters][32]
    *   [getRandomComputedStyle][33]
        *   [Parameters][34]
    *   [getElementAttributeArray][35]
        *   [Parameters][36]
    *   [getElementAttribute][37]
        *   [Parameters][38]
    *   [showOnlyErrors][39]
    *   [lighthouseSettings][40]
    *   [puppeteerSettings][41]
    *   [lighthouseFlowConfigContext][42]
    *   [pa11ySettings][43]
    *   [pa11yHideElements][44]
    *   [page][45]
    *   [reportPath][46]
    *   [isIncognito][47]
    *   [reportJSON][48]
    *   [screenshotWidths][49]
    *   [skipLog][50]
    *   [serviceDesignSystemVersion][51]
    *   [performHeadSection][52]
    *   [performLighthouse][53]
    *   [performDSFChecks][54]
    *   [performPa11yChecks][55]
    *   [DSFCheckLevel][56]
    *   [DSFTestOptions][57]
    *   [timeout][58]
        *   [Parameters][59]
    *   [rgb2hex][60]
        *   [Parameters][61]
*   [DSFReportTemplate][62]
    *   [mainReport][63]

## DSFTesting

Can perform client side tests using puppeteer and other packages such as lighthouse and pa11y.

Checkout what you can do with puppeteer at [https://pptr.dev/][64]

### startTest

Start the tests with this function. Will create instances for puppeteer page and lighthouse

#### Parameters

*   `testName` **[string][65]** the name of the test
*   `reportPath` **[string][65]** The path of the reports. Can be used to set the folder where the reports are saved (optional, default `""`)

### endTest

Always end tests with this. Will close the browser

### ConsoleEcho

Display Page - Action on Console

#### Parameters

*   `pageName` &#x20;
*   `actionDesc`   (optional, default `""`)

### RepeatStr

Repeat string

#### Parameters

*   `count` **int**&#x20;
*   `pattern` **[string][65]**&#x20;

Returns **[string][65]**&#x20;

### addToReportJSON

Adds tests details to the report JSON to be used to populate the report

#### Parameters

*   `page` **[string][65]** The id of the page
*   `type` **[string][65]** The type of the test
*   `key` **[string][65]** A key for this test
*   `value` **any** The value returned by the test
*   `condition` **[boolean][66]** The condition to test if true or false (optional, default `undefined`)
*   `selector` **[string][65]** The html selector used in the test (optional, default `undefined`)
*   `attribute` **[string][65]** The attribute used in the test (optional, default `undefined`)

### generateReport

Generates an HTML report based on the `reportJSON`

### DSFStandardPageTest

Performs a series of screenshoots, accessibility checks (with PA11Y),
the tests defined in `DSFTestOptions.tests` and adds a lighthouse page check

#### Parameters

*   `pageName` **[string][65]** The page name
*   `lang` **[string][65]** Lang expected in html element
*   `isError` **[boolean][66]** if the page in an errors state (uses the error message and error summary component)
*   `ignoreChecks` **[Array][67]** an array of stings for the ids of the checks to ignore (optional, default `[]`)

### validateUrl

Validates a URL is reachable

#### Parameters

*   `urlString` **[string][65]** the url path
*   `isRelative` **[boolean][66]** if the path is relative or not (optional, default `false`)

Returns **any** true if page is accessible or false if not

### doScreenshot

Takes a screenshoot

#### Parameters

*   `page` **[string][65]** the page name the acion is made. This is used to generate the report (optional, default `''`)
*   `width` **int** the width of the screenshoot
*   `filename` **[string][65]** the name of the file to be saved. The path will be `this.reportPath + filename` (optional, default `''`)

### doLighthouseA11YScore

#### Parameters

*   `pageURL` **[string][65]** the url of the page

### doLighthouseFlow

runs the lighthouse flow

#### Parameters

*   `pageURL` **[string][65]** the url of the page

### doLighthouseNavStart

starts the lighthouse navivation flow

#### Parameters

*   `stepName` **[string][65]** the step name

### doLighthouseNavEnd

stops the lighthouse navivation flow

### reportLighthouseFlow

Creates the lighthouse flow report

#### Parameters

*   `path` **[string][65]** the report path in string. The path will be `this.reportPath + filename`

### doPa11y

Creates the pa11y report. Uses the settings defined in `pa11ySettings`

#### Parameters

*   `page` **[string][65]** the page name the acion is made. Will be used as part of the path and to generate the report (optional, default `''`)
*   `path` **[string][65]** the report path in string. The path will be `this.reportPath + filename` (optional, default `''`)

### getHeadSection

gets only the head section and puts it in an HTML file

#### Parameters

*   `page` **[string][65]** the page name the acion is made. Will be used as part of the path and to generate the report (optional, default `''`)
*   `path` **[string][65]** the report path in string. The path will be `this.reportPath + filename`

### getComputedStyle

Gets the property value of a computed style of an element of the page

#### Parameters

*   `selector` **[string][65]** The css selector of the element
*   `property` **[string][65]** The property to get

Returns **any** computed styles object (check out [https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle][68] for more)

### getRandomComputedStyle

Gets the property value of a computed style of a random element of the page based on the selector.

#### Parameters

*   `selector` **[string][65]** The css selector of the element
*   `property` **[string][65]** The property to get
*   `hover` **[boolean][66]** If true hover over the element (optional, default `false`)
*   `focus` **[boolean][66]** If true focus on the element (i.e. to get active state) (optional, default `false`)

Returns **any** computed styles object (check out [https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle][68] for more)

### getElementAttributeArray

Gets the attributes from all the element found based on the `selector` query selector

#### Parameters

*   `selector` **[string][65]** The css selector of the element
*   `attribute` **[string][65]** The attribute to get

Returns **any** Array of attribute values

### getElementAttribute

Gets the attribute from an the first element found based on the `selector` query selector

#### Parameters

*   `selector` **[string][65]** The css selector of the element
*   `attribute` **[string][65]** The attribute to get

Returns **any** attribute value

### showOnlyErrors

Whether to show only errors in the report or show all the checks.
Default value = `false`

### lighthouseSettings

default lighthouse settings
more at [https://github.com/GoogleChrome/lighthouse/blob/master/docs/configuration.md][69]
Default value = `{onlyCategories: ["accessibility"],output: "csv",}`

### puppeteerSettings

Default puppeteer Settings
Default value = `{ headless: true, args: ['--ignore-certificate-errors'], slowMo: 0 }`

### lighthouseFlowConfigContext

Default lighthouse flow settings

### pa11ySettings

Default pa11y settings
Default value = `{standard: 'WCAG2AA',ignoreUrl: true,wait: 10000} `

### pa11yHideElements

Default pa11y hideElements. These elements will be ignored when running accessibility checks
Default value = `""`
Example to ignore DS known issues `DSFTest.pa11yHideElements = "html > body > div:nth-child(2) > div > div > header > form, #culture-picker";`

### page

The puppeteer page object. See more at  [https://pptr.dev/][64]

### reportPath

The path of the reports. Can be used to set the folder where the reports are saved.
Note: the folder needs to exist.

### isIncognito

Indicates whether to use an incognito browser content
Default value =  `true`

### reportJSON

The JSON that of the results of the tests

### screenshotWidths

The widths to take screenshoots
Default value = `[1200,800,360]`

### skipLog

Use this flag to skip testing

### serviceDesignSystemVersion

What version of the design system was the service build on.
This will make sure the correct checks are made

### performHeadSection

Whether on not to get the head section
Default = `true`

### performLighthouse

Whether on not to perform lighthouse checks
Default = `true`

### performDSFChecks

Whether on not to perform the DSF Checks defined under `DSFTestOptions`
Default = `true`

### performPa11yChecks

Whether on not to perform the pa11y checks
Default = `true`

### DSFCheckLevel

Define which DSF checks to perform with the `DSFStandardPageTest` function based on check level.
`0` performs the mandatory plus more advanced checks that probably will need to overwrite the selector
`1` performs the mandatory checks only

Default = `1`

### DSFTestOptions

The tests options to be carried out by the `DSFStandardPageTest` function

### timeout

Wait for some time (in miliseconds) before you execure the next thing

#### Parameters

*   `ms` **int** Time out in miliseconds

### rgb2hex

Convert RGB colour string to hex

#### Parameters

*   `rgb` **[string][65]** The RGB value

Returns **[string][65]** The hex value

## DSFReportTemplate

Used to define the templates for the reports generated

### mainReport

The main report

[1]: #dsftesting

[2]: #starttest

[3]: #parameters

[4]: #endtest

[5]: #consoleecho

[6]: #parameters-1

[7]: #repeatstr

[8]: #parameters-2

[9]: #addtoreportjson

[10]: #parameters-3

[11]: #generatereport

[12]: #dsfstandardpagetest

[13]: #parameters-4

[14]: #validateurl

[15]: #parameters-5

[16]: #doscreenshot

[17]: #parameters-6

[18]: #dolighthousea11yscore

[19]: #parameters-7

[20]: #dolighthouseflow

[21]: #parameters-8

[22]: #dolighthousenavstart

[23]: #parameters-9

[24]: #dolighthousenavend

[25]: #reportlighthouseflow

[26]: #parameters-10

[27]: #dopa11y

[28]: #parameters-11

[29]: #getheadsection

[30]: #parameters-12

[31]: #getcomputedstyle

[32]: #parameters-13

[33]: #getrandomcomputedstyle

[34]: #parameters-14

[35]: #getelementattributearray

[36]: #parameters-15

[37]: #getelementattribute

[38]: #parameters-16

[39]: #showonlyerrors

[40]: #lighthousesettings

[41]: #puppeteersettings

[42]: #lighthouseflowconfigcontext

[43]: #pa11ysettings

[44]: #pa11yhideelements

[45]: #page

[46]: #reportpath

[47]: #isincognito

[48]: #reportjson

[49]: #screenshotwidths

[50]: #skiplog

[51]: #servicedesignsystemversion

[52]: #performheadsection

[53]: #performlighthouse

[54]: #performdsfchecks

[55]: #performpa11ychecks

[56]: #dsfchecklevel

[57]: #dsftestoptions

[58]: #timeout

[59]: #parameters-17

[60]: #rgb2hex

[61]: #parameters-18

[62]: #dsfreporttemplate

[63]: #mainreport

[64]: https://pptr.dev/

[65]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[66]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[67]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[68]: https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle

[69]: https://github.com/GoogleChrome/lighthouse/blob/master/docs/configuration.md
